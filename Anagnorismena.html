<!DOCTYPE html>
<html>
    <head>
        <title>Recognized Universities and Degrees</title>
        <meta charset="UTF-8">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta content="text/html; charset=utf-8" http-equiv="content-type" />
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="stylesheet" href="css/Anagnorismena.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="icon" href="https://www.doatap.gr/wp-content/uploads/2021/08/cropped-doat2-32x32.png" sizes="32x32">
        <link rel="icon" href="https://www.doatap.gr/wp-content/uploads/2021/08/cropped-doat2-192x192.png" sizes="192x192">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    </head>

    <body>
        <div class="im">
            <img src = "images/doatap2.png" alt = "Doatap Logo">
        </div>

        <div id="login-section">
            <h3>Login for staff members only!</h3>
            <form id="login-form">
                <div>
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" placeholder="Enter your username">
                </div>
                <div>
                    <label for="password">Password:</label>
                    <div class="password-container">
                        <input type="password" id="password" name="password" placeholder="Enter your password">
                        <i class="toggle-password fas fa-eye" onclick="togglePasswordVisibility()"></i>
                    </div>
                </div>
                <button type="submit">Login</button>
            </form>
        </div>

        <script>
            // Enable password visibility
            function togglePasswordVisibility() {
                var passwordInput = document.getElementById("password");
                var eyeIcon = document.querySelector(".toggle-password");
    
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    eyeIcon.classList.remove("fa-eye");
                    eyeIcon.classList.add("fa-eye-slash");
                } else {
                    passwordInput.type = "password";
                    eyeIcon.classList.remove("fa-eye-slash");
                    eyeIcon.classList.add("fa-eye");
                }
            }
        </script>
    
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const loginForm = document.getElementById("login-form");
                const askHelpButton = document.getElementById("ask-help");
    
                loginForm.addEventListener("submit", function(event) {
                    event.preventDefault(); // Prevent form submission, we need it only to confirm the credentials.
                    
                    // Get entered username and password
                    const username = loginForm.elements.username.value;
                    const password = loginForm.elements.password.value;
    
                    // Perform login validation
                    validateLogin(username, password);
                });
    
                askHelpButton.addEventListener("click", function() {
                    // Check if user is logged in
                    if (!isLoggedIn()) {
                        // Redirect to form.html if not logged in
                        window.location.href = "form.html";
                    } else {
                        // Show message to logged-in user
                        alert("See the list of not recognized universities and degrees. If you still don't find what you need, contact the system's administrator");
                    }
                });

                    
                // Define a variable to track the login status
                var isLoggedInStatus = false;
    
                // Function to validate login credentials
                function validateLogin(username, password) {
                    // Perform validation based on text file "Credentials.txt"
                    fetch('Credentials.txt')
                        .then(response => response.text())
                        .then(data => {
                            const lines = data.split('\n');
                            for (const line of lines) {
                                const [storedUsername, storedPassword] = line.trim().split(':');
                                if (username === storedUsername && password === storedPassword) {
                                    // Login successful
                                    alert("Login successful!");
                                    // Set isLoggedInStatus to true upon successful login
                                    isLoggedInStatus = true;
                                    return;
                                }
                            }
                            // Login failed
                            alert("Invalid username or password.");
                        })
                        .catch(error => console.error('Error reading credentials file:', error));
                }

                function isLoggedIn() {
                    // Return the value of the isLoggedInStatus variable
                    return isLoggedInStatus;
                }
            });
        </script>
    
    <br>

    <p style="margin-left: 20px; margin-right: 20px;"> <b> Σημειώνεται </b> ότι αν κάποιο συγκεκριμένο Εκπαιδευτικό Ίδρυμα της αλλοδαπής ή τύπος τίτλου σπουδών
    δεν περιλαμβάνεται σε αυτό το μητρώο, αυτό σημαίνει είτε ότι δεν αναγνωρίζεται είτε ότι δεν έχει δοθεί ακόμα η ευκαιρία στον Δ.Ο.Α.Τ.Α.Π. 
    να αποφανθεί για την ένταξή του ή όχι. Για να αναγνωρισθεί ένας τίτλος σπουδών από τον Δ.Ο.Α.Τ.Α.Π., απαραίτητη προϋπόθεση είναι 
    το ίδρυμα απονομής και ο υπό κρίση τύπος τίτλου σπουδών να βρίσκονται στο μητρώο αυτό ή να προστεθούν σε αυτό αν κριθούν θετικά
    έπειτα από αξιολόγηση μιας αντίστοιχης αίτησης αναγνώρισης.</p>

    <hr style="margin-left: 20px; margin-right: 20px;">

    <div class="title">
        <h3><b>Recognized Universities and Degrees</b></h3>
    </div>

    <div class="search">
        <div class="input-parameters">
            <label for="country">Enter the Country:</label>
            <br>
            <select name="country" id="country">
                <option value="All"></option>
                <option value="AFGHANISTAN">AFGHANISTAN</option> 
                <option value="ALBANIA">ALBANIA</option> 
                <option value="ARMENIA">ARMENIA</option>
                <option value="BELGIUM">BELGIUM</option> 
                <option value="DENMARK">DENMARK</option>
                <option value="NIGERIA">NIGERIA</option>
                <option value="PAKISTAN">PAKISTAN</option>
                <option value="ROMANIA">ROMANIA</option>
                <option value="SINGAPORE">SINGAPORE</option>
                <option value="UGANDA">UGANDA</option>
                <option value="VIETNAM">VIETNAM</option>
                <option value="ZIMBABWE">ZIMBABWE</option>
          
            </select>
        </div>
        <div class="input-parameters">
            <label for="city">Enter the City:</label>
            <br>
            <select name="city" id="city">
                <option value="All" ></option> 
                <option value="BALKH">BALKH</option> 
                <option value="BRUSSELS">BRUSSELS</option>
                <option value="BUCURESTI">BUCURESTI</option>
                <option value="COPENHAGEN">COPENHAGEN</option> 
                <option value="DURRES">DURRES</option>
                <option value="GWERU">GWERU</option>
                <option value="HANOI">HANOI</option>
                <option value="JAMSHORO">JAMSHORO</option> 
                <option value="KABUL">KABUL</option>
                <option value="LAGOS">LAGOS</option>
                <option value="MBARARA">MBARARA</option>
                <option value="SINGAPORE CITY">SINGAPORE CITY</option>
                <option value="TIRANA">TIRANA</option>
                <option value="YEREVAN">YEREVAN</option>
            </select>
        </div>
        <div class="input-parameters">
            <label for="name">Enter the Name:</label>
            <br>
            <select name="name" id="name">
                <option value="All"></option>
                <option value="AMERICAN UNIVERSITY OF TIRANA">AMERICAN UNIVERSITY OF TIRANA</option>
                <option value="BALKH UNIVERSITY">BALKH UNIVERSITY</option>
                <option value="COPENHAGEN BUSINESS ACADEMY">COPENHAGEN BUSINESS ACADEMY</option>
                <option value="IT UNIVERSITY OF COPENHAGEN">IT UNIVERSITY OF COPENHAGEN</option>  
                <option value="KABUL UNIVERSITY">KABUL UNIVERSITY</option>
                <option value="MBARARA UNIVERSITY OF SCIENCE AND TECHNOLOGY">MBARARA UNIVERSITY OF SCIENCE AND TECHNOLOGY</option>
                <option value="MEDICAL SCHOOL OF BRUSSELS">MEDICAL SCHOOL OF BRUSSELS</option>
                <option value="MEHRAN UNIVERSITY OF ENGINEERING AND TECHNOLOGY JAMSHORO (MUET)">MEHRAN UNIVERSITY OF ENGINEERING AND TECHNOLOGY JAMSHORO (MUET)</option>
                <option value="MIDLANDS STATE UNIVERSITY">MIDLANDS STATE UNIVERSITY</option> 
                <option value="SINGAPORE MANAGEMENT UNIVERSITY (SMU)">SINGAPORE MANAGEMENT UNIVERSITY (SMU)</option>
                <option value="UNIVERSITATEA DE ARHITECTURA SI URBANISM (ION MINCU) DIN BUCURESTI">UNIVERSITATEA DE ARHITECTURA SI URBANISM (ION MINCU) DIN BUCURESTI</option>
                <option value="UNIVERSITY OF DURRES (ALEKSANDER MOISIU)">UNIVERSITY OF DURRES (ALEKSANDER MOISIU)</option> 
                <option value="UNIVERSITY OF LAGOS">UNIVERSITY OF LAGOS</option>
                <option value="VIETNAM NATIONAL UNIVERSITY">VIETNAM NATIONAL UNIVERSITY</option>
                <option value="YEREVAN (GALICK) UNIVERSITY">YEREVAN (GALICK) UNIVERSITY</option>
            </select>
        </div>
        <div class="input-parameters">
            <button id="searchBtn">Search</button>
        </div>
    </div>

    <div id="List of Recognized" class="table-wrapper">
        <table id="Table of Recognized Universities and Degrees">
            <thead>
                <tr>
                    <th>COUNTRY</th>
                    <th>CITY</th>
                    <th>UNIVERSITY</th>
                    <th>DEGREES</th>
                    <th>SEE CERTIFICATION</th>
                </tr>
            </thead>
    
            <tbody id="TableBody">
                <script>

                    // Read the text file with the recognized universities and degrees
                    fetch('AnagnorismenaData.txt')
                        .then(response => response.text())
                        .then(data => {
                            // Split the text data into lines
                            const lines = data.split('\n');
    
                            // Get the table body element
                            const tableBody = document.getElementById('TableBody');
    
                            // Iterate over each line and create table rows
                            lines.forEach(line => {

                                // Check if the line is empty or contains only whitespace, so to skip it
                                if (line.trim() === '') {
                                    return; 
                                }

                                // Split each line by colon (:)
                                const cells = line.split(':');
    
                                // Create a new table row
                                const row = document.createElement('tr');
    
                                cells.forEach(cell => {
                                    // Create a new table cell
                                    const cellElement = document.createElement('td');
                                    cellElement.textContent = cell.trim();
                                    cellElement.style.border = '1px solid black'; // Add border styling
                                    row.appendChild(cellElement);
                                });
    
                                // Add a button to generate PDF
                                const generatePdfButton = document.createElement('button');
                                generatePdfButton.textContent = 'Generate PDF';
                                generatePdfButton.onclick = function () {
                                    generatePDF(row.rowIndex); // Call generatePDF function with the row index
                                };
                                const buttonCell = document.createElement('td');
                                buttonCell.style.border = '1px solid black'; // Add border styling to the button cell
                                buttonCell.appendChild(generatePdfButton);
                                row.appendChild(buttonCell);
    
                                // Add the row to the table body
                                tableBody.appendChild(row);
                            });
                        })
                        .catch(error => console.error('Error reading the file:', error))
    
                </script>
            </tbody>
    
        </table>
    </div>

    <button id="ask-help">ASK HELP</button>

    <script>
        
        document.addEventListener("DOMContentLoaded", function() {
        // Function to filter table rows based on selected parameters
        function filterTable() {
            var country = document.getElementById("country").value;
            var city = document.getElementById("city").value;
            var name = document.getElementById("name").value;
            
            var tableRows = document.getElementById("Table of Recognized Universities and Degrees").getElementsByTagName("tr");
            
            for (var i = 1; i < tableRows.length; i++) {
                var row = tableRows[i];
                var rowCountry = row.cells[0].innerText;
                var rowCity = row.cells[1].innerText;
                var rowName = row.cells[2].innerText;
                
                // Check if the row matches the selected parameters
                if ((country === "All" || rowCountry === country) &&
                    (city === "All" || rowCity === city) &&
                    (name === "All" || rowName === name)) {
                    row.style.display = "";
                } else {
                    row.style.display = "none";
                }
            }
        }

        // Attach event listener to the search button
        document.getElementById("searchBtn").addEventListener("click", filterTable);
    });

    </script>
    
    
    <script>
        // Open the proper pdf in another page
        function generatePDF(rowIdx) {
            // Get the path to the PDF file based on the row index
            var pdfPath = 'pdfs/Anagnorisi_' + rowIdx + '.pdf'; 
        
            // Open the PDF in a new window or tab
            window.open('viewerPDF.html?pdf=' + encodeURIComponent(pdfPath), '_blank');
        }
    </script>
    
    
    </div>

        <br><br>
        <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>
        <footer class="foot">
            <div class="contact-info">
                <h6 style="text-align: center; font-size: 20px;">ΕΠΙΚΟΙΝΩΝΙΑ</h6>
                <br>
                <hr style=" color: white;">
                <div class="location">
                    <i class='fas fa-map-pin' style="font-size: 24px; margin-bottom: 0em;"></i>
                    <p style="display: inline-block; margin-left: 0.5em; margin-top: 0em;">Αγ. Κωνσταντίνου 54</p>
                    <p style="margin-left: 2em; line-height: 0.5;">Τ.Κ. 104 37, Αθήνα</p>
                </div>
                <div class="phone">
                    <i class='fas fa-phone' style="font-size: 24px;"></i>
                    <p style="display: inline-block;">2107000800/2105281000</p>
                </div>
            </div>
            <div class="rounded-social-buttons">
                <a class="social-button facebook" href="https://www.facebook.com/doatap/" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a class="social-button twitter" href="https://www.twitter.com/doatap" target="_blank"><i class="fab fa-twitter"></i></a>
                <a class="social-button linkedin" href="https://www.linkedin.com/company/doatap" target="_blank"><i class="fab fa-linkedin"></i></a>
            </div>
        </footer>
    </body>
</html>